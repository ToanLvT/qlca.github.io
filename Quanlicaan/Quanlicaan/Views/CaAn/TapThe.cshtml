@model Quanlicaan.Models.DangKyTapTheModel

@using Quanlicaan.Models;
@{
    ViewBag.Title = "TapThe";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int count = 0;
}




@using (Html.BeginForm("XuLyDangKyTapThe", "CaAn", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    <div class="container">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <h1 class="page-header">ĐĂNG KÝ CA ĂN TẬP THỂ</h1>
        <div class="form-group">
            <div class="thong-tin-nguoi-dang-ky">
                <label for="" class="ten-dau-muc">HỌ TÊN NGƯỜI ĐĂNG KÝ</label>
                @Html.EditorFor(model => model.hoTenNDK, new { htmlAttributes = new { @class = "form-control" } })
                <label for="" class="ten-dau-muc">PHÒNG BAN</label>
                @Html.EditorFor(model => model.phongBan, new { htmlAttributes = new { @class = "form-control" } })
                <label for="" class="ten-dau-muc">NGÀY ĐĂNG KÝ</label>
                @Html.EditorFor(model => model.ngayDK, new { htmlAttributes = new { @class = "form-control" } })
            </div>
            @for(int i = 0; i<Model.dsNV.Count; i++)
            {
                <div class="danh-sach-nhan-vien-thuoc-phong-ban">
                    <div class="form-group">
                        <div class="form-control">
                            <div>
                                <span class="label label-danger">Họ tên </span>
                                @Html.EditorFor(model => model.dsNV[i].hoTen, new { htmlAttributes = new { @class = "form-control" } })
                            </div>

                            @*===================*@

                            @{
                                string idCheckBoxCa1 = "checkboxca1_" + count.ToString();
                                string idTextBoxCa1 = "textboxca1_" + count.ToString();
                                string idCheckBoxCa2 = "checkboxca2_" + count.ToString();
                                string idTextBoxCa2 = "textboxca2_" + count.ToString();
                                string idCheckBoxCa3 = "checkboxca3_" + count.ToString();
                                string idTextBoxCa3 = "textboxca3_" + count.ToString();
                                count++;
                                <div class="">
                                    <label class="label" for="checkbox_ca1">Ca 1:</label>
                                    <input type="checkbox" class="checkbox" id=@idCheckBoxCa1 onclick="EnableDisableTextBox('@idCheckBoxCa1', '@idTextBoxCa1')" name="checkbox-ca1" value="">
                                    @Html.EditorFor(model => model.dsNV[i].SLCa1, new { htmlAttributes = new { @class = "form-control", id = @idTextBoxCa1, disabled = "disabled" } })
                                    suất
                                </div>
                                <div class="ca1">
                                    <label class="label" for="checkbox_ca2">Ca 2:</label>
                                    <input type="checkbox" class="checkbox" id=@idCheckBoxCa2 onclick="EnableDisableTextBox('@idCheckBoxCa2', '@idTextBoxCa2')" name="checkbox-ca1" value="">
                                    @Html.EditorFor(model => model.dsNV[i].SLCa2, new { htmlAttributes = new { @class = "form-control", id = @idTextBoxCa2, disabled = "disabled" } })
                                    suất
                                </div>
                                <div class="ca1">
                                    <label class="label" for="checkbox_ca2">Ca 3:</label>
                                    <input type="checkbox" class="checkbox" id=@idCheckBoxCa3 onclick="EnableDisableTextBox('@idCheckBoxCa3', '@idTextBoxCa3')" name="checkbox-ca1" value="">
                                    @Html.EditorFor(model => model.dsNV[i].SLCa3, new { htmlAttributes = new { @class = "form-control", id = @idTextBoxCa3, disabled = "disabled" } })

                                </div>
                            }
                        </div>
                    </div>
                </div>
            }
            <div class="">
                <button class="btn btn-info" type="submit">OK</button>
                <button class="btn btn-warning">CANCEL</button>
            </div>
        </div>
    </div>

    <script type="text/javascript">
       
        function EnableDisableTextBox(checkbox_caAn, inputCaAn) {
            var input_ca = document.getElementById(inputCaAn);
            var checkbox_caAn = document.getElementById(checkbox_caAn)
            input_ca.disabled = checkbox_caAn.checked ? false : true;
            if (!input_ca.disabled) {
                input_ca.focus();
            }
        }
    </script>

}
