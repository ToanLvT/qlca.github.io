@model List<Quanlicaan.Models.DAO.DkiCaAnTapTheModel>
@using Quanlicaan.Models.Session
@using System.Data;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var info = (UserSession)Session["UserSession"];
    int a = 1;

}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Tapthe</title>
</head>
<body>
    <div class="d-flex flex-column px-2">
        <div style="margin:auto">
            <h1>ĐĂNG KÍ ĂN CA TẬP THỂ</h1>
        </div>
        <div class="d-flex justify-content-around" style="margin-bottom:20px">
            <h4>  Nhân viên đăng kí : @info.hoTen</h4>
            <h4>  Ngày đăng kí : @DateTime.Now</h4>

        </div>
        @using (Html.BeginForm("DkiTapThe", "Dangkycaan", FormMethod.Post))
        {

            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">STT</th>
                        <th scope="col">Mã nhân viên</th>
                        <th scope="col">Tên nhân viên</th>
                        <th scope="col">Tên Phòng Ban</th>
                        <th scope="col">Chọn</th>
                        <th scope="col">Đăng kí ca ăn</th>

                    </tr>
                </thead>
                <tbody>
                    @for(int k=0; k<Model.Count; k++)
                    {
                        int j = 1;
                        <tr>
                            <td>@a</td>
                            <td>
                                @Html.HiddenFor(m=>Model[k].IDUser)
                                @Model[k].IDUser 
                            </td>
                            <td>
                                @Html.HiddenFor(m=>Model[k].hoTen)
                                @Model[k].hoTen
                            </td>
                            <td>
                                @Html.HiddenFor(m=>Model[k].phongBan)
                                @Model[k].phongBan
                            </td>
                            <td>
                                @Html.CheckBoxFor(model => Model[k].TrangThai)
                            </td>
                            <td>
                                <table>
                                    @for (int i = 0; i < Model[k].ListCaAn.Count; i++)
                                    {
                                        <tr style=" display: flex; align-Model[k]s: flex-end;">
                                            <td>
                                                @Html.CheckBoxFor(m => Model[k].ListCaAn[i].IsChecked)
                                                @Html.HiddenFor(m => Model[k].ListCaAn[i].ID)
                                                @Html.HiddenFor(m => Model[k].ListCaAn[i].Thoigian)

                                            </td>
                                            <td style=" margin-right :10px">
                                                Ca @j
                                            </td>
                                            <td>
                                                <h6>Số lượng suất ăn</h6>
                                                @Html.TextBoxFor(m => Model[k].ListCaAn[i].SoluongSuatan, new { htmlAttributes = new { @class = "form-control", placeholder = "Số lượng suất ăn" } })
                                            </td>

                                        </tr>
                                        j++;
                                    }
                                </table>
                            </td>

                        </tr>
                        a++;
                    }
                </tbody>
            </table>

            <div style="text-align:center">
                <button type="submit" class="btn btn-success btn-lg">Đăng kí  ca ăn</button>
                <button class="btn btn-danger btn-lg"> <a style="text-decoration:none ; color:white " href="@Url.Action("Home","Home")">Cance</a></button>
            </div>
        }

    </div>

</body>
</html>
